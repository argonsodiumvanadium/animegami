var urlParams,currentPage,arrowRoute=["homepage","anime","manga","music","search","more"];function $(e){return document.getElementById(e)}function gen(e){return document.createElement(e)}function hasClass(e,t){return console.log(e),(" "+e+" ").indexOf(" "+t+" ")>-1}function getURLParameters(){(window.onpopstate=function(){var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(t," "))},o=window.location.search.substring(1);for(urlParams={};e=n.exec(o);)urlParams[a(e[1])]=a(e[2]);render(urlParams.loc)})()}function render(e){null==e||null==e?window.open("404.html","_self"):"HOMEPAGE"==(e=e.trim()).toUpperCase()&&window.open("index.html","_self"),console.log(e);var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&(renderLoader(),$("content").innerHTML=this.responseText,modifyNav(),scriptInit(e))},t.open("GET",`./bodies/${e}.html`,!0),t.send()}function scriptInit(e){try{$(currentPage+"-option").className=$(currentPage+"-option").className.replace("has-background",""),$(currentPage+"-option").className=$(currentPage+"-option").className.replace("has-text-black","")}catch(e){}if(currentPage=e.trim().toLowerCase(),getNextAndPrevPageBtnsValue(currentPage),removeLoader(),"ANIME"===e.toUpperCase().trim())return renderLoader(),renderAnimeCatalog(),$("anime-option").classList.add("has-background-info"),void setTimeout(removeLoader,1500);"MANGA"===e.toUpperCase().trim()?(renderLoader(),renderMangaCatalog(),$("manga-option").classList.add("has-background-success"),setTimeout(removeLoader,1500)):"MUSIC"===e.toUpperCase().trim()?(renderLoader(),$("music-option").classList.add("has-background-danger"),$("youtube-search").onkeydown=function(e){13==e.keyCode&&searchAndGetIdOfSong(this.value)},setTimeout(removeLoader,1500)):"SEARCH"===e.toUpperCase().trim()?($("type-bar").value=null==urlParams.type?"Anime":urlParams.type,$("search-bar").focus(),$("search-option").classList.add("has-background-warning","has-text-black"),renderLoader(),$("search-bar").onkeydown=function(e){13==e.keyCode&&searchAndDisplayResults($("search-bar").value,$("type-bar").value)},$("type-bar").onkeydown=function(e){13==e.keyCode&&searchAndDisplayResults($("search-bar").value,$("type-bar").value)},setTimeout(removeLoader,1500),window.onkeydown=function(){}):"HOMEPAGE"===e.toUpperCase().trim()&&window.open("index.html","_self")}function getPositionFromTop(e){return window.pageYOffset+e.getBoundingClientRect().top}function modifyNav(){}function renderLoader(){gen("div").innerHTML='\n\t<section id="loader" style="">\n\t\t<div class="progress" style="position:fixed;top:0;width:100%;height:0.1rem important">\n\t\t\t<div class="indeterminate"></div>\n\t\t</div>\n\t</section>\n\t'}function removeLoader(){}function main(){getURLParameters(),render(urlParams.loc),modifyNav(),window.onkeydown=function(e){LEFT="37",RIGHT="39",e.keyCode==RIGHT?$("next-page-btn").click():e.keyCode==LEFT&&$("prev-page-btn").click()},$("body").onscroll=function(){toggleFloatingButtons()},M.AutoInit()}getNextAndPrevPageBtnsValue=async e=>{for(i=0;i<arrowRoute.length;i++)if(e==arrowRoute[i]){$("prev-page-btn").className+="button waves-effect columns animate__animated animate__zoomOut";try{$("prev-page-name").textContent=arrowRoute[i-1].toUpperCase()}catch(e){$("prev-page-btn").style.display="none"}$("next-page-btn").className+="button waves-effect columns animate__animated animate__zoomOut";try{$("next-page-name").textContent=arrowRoute[i+1].toUpperCase()}catch(e){$("next-page-btn").style.display="none"}}},toggleFloatingButtons=()=>{wHeight=window.innerHeight,requiredOffset=1.5*wHeight,getPositionFromTop($("next-page-btn"))>requiredOffset?(opaqify("next-page-btn"),opaqify("prev-page-btn")):(hide("next-page-btn"),hide("prev-page-btn"))},opaqify=e=>{$(e).style.opacity="1",$(e).style.animationDuration="0.2s",$(e).className+="button waves-effect columns animate__animated animate__zoomIn"},hide=e=>{$(e).className="button waves-effect columns animate__animated animate__zoomOut"},main();
